---
layout: post
is_data: "no"
comments: true
title:  "Retirement calculator: Interactive visualization using Bokeh"
excerpt: "After debating with a friend about how much/little we need to save in order
to retire comfortably, I made an interactive visualization that shows how much money
you will earn off interest as a function of your savings over time."
date:   2017-09-09 00:00:00
mathjax: true
---

# Update: Streamlit

[This Streamlit visualization](https://share.streamlit.io/srcole/streamlit_retirement_calculator/main/app.py) was more recently made and is a better interactive tool for visualizing retirement savings for different parameters.

# Old interactive tool


<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Retirement calculator</title>
        
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css" type="text/css" />
        
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js"></script>
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.js"></script>
<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>
        <style>
          html {
            width: 100%;
            height: 100%;
          }
          body {
            width: 90%;
            height: 100%;
            margin: auto;
          }
        </style>
    </head>
    <body>
        
        <div class="bk-root">
            <div class="bk-plotdiv" id="0cb0ed8d-e420-434e-bdf2-77e67c644cbf"></div>
        </div>
        
        <script type="text/javascript">
            (function() {
          var fn = function() {
            Bokeh.safely(function() {
                  var docs_json = {"e78589ac-0a59-4c60-813e-6c698974f41b":{"roots":{"references":[{"attributes":{"items":[{"id":"3496a1b7-031d-45d4-be88-fe9921c0b9a3","type":"LegendItem"},{"id":"2aad1c9e-8a5f-4656-9b09-6aa89fc1ae43","type":"LegendItem"},{"id":"7fc190e4-e9c4-4a8c-aab1-66d68463b67d","type":"LegendItem"}],"location":"top_left","plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"c172e885-ef28-4b93-a98d-2110e407d4c8","type":"Legend"},{"attributes":{"label":{"value":"annual income on interest"},"renderers":[{"id":"5a043776-9a82-4a3f-adb5-846fe97d4678","type":"GlyphRenderer"}]},"id":"3496a1b7-031d-45d4-be88-fe9921c0b9a3","type":"LegendItem"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"6140365e-37d8-46e0-a413-e1ab93647034","type":"Line"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"ebf9888a-21b1-430d-8c15-d02c38368eb3","type":"PanTool"},{"id":"5295715e-7358-41d1-af77-7d4a25969ebd","type":"WheelZoomTool"},{"id":"3e97aaee-732a-4982-b7a8-34196295e7d9","type":"BoxZoomTool"},{"id":"9ded334d-acd9-4a78-a58e-c96047c02ccc","type":"SaveTool"},{"id":"d8b1e3ab-0c00-475c-9153-b241c7168dde","type":"ResetTool"},{"id":"47c57b0c-0b50-4972-a188-cc6713d23e62","type":"HelpTool"}]},"id":"7b53ccf2-eca5-4069-8431-d643ebf659e0","type":"Toolbar"},{"attributes":{"line_alpha":{"value":0.6},"line_color":{"value":"red"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y_ri"}},"id":"78db451a-ac37-4925-9216-6209ddd1338d","type":"Line"},{"attributes":{"data_source":{"id":"64570a08-51d2-41a2-8789-f5dfbff96bfe","type":"ColumnDataSource"},"glyph":{"id":"78db451a-ac37-4925-9216-6209ddd1338d","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2809c453-92f5-465b-aa5d-1520fadce748","type":"Line"},"selection_glyph":null},"id":"3104510b-bfba-4bcd-9b19-df83e58626bf","type":"GlyphRenderer"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y_ri"}},"id":"2809c453-92f5-465b-aa5d-1520fadce748","type":"Line"},{"attributes":{"label":{"value":"retirement income threshold"},"renderers":[{"id":"3104510b-bfba-4bcd-9b19-df83e58626bf","type":"GlyphRenderer"}]},"id":"2aad1c9e-8a5f-4656-9b09-6aa89fc1ae43","type":"LegendItem"},{"attributes":{"line_alpha":{"value":0.6},"line_color":{"value":"green"},"line_width":{"value":3},"x":{"field":"x_rt"},"y":{"field":"y_rt"}},"id":"35c7faa3-03c9-491a-a5b8-bd7804352859","type":"Line"},{"attributes":{"data_source":{"id":"64570a08-51d2-41a2-8789-f5dfbff96bfe","type":"ColumnDataSource"},"glyph":{"id":"35c7faa3-03c9-491a-a5b8-bd7804352859","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"257fc956-6c90-4371-b740-cfd69066fcac","type":"Line"},"selection_glyph":null},"id":"9f1e37eb-a419-4479-8e75-9404f1f6443c","type":"GlyphRenderer"},{"attributes":{"callback":null,"column_names":["x","y","y2","y3","y_ri","x_rt","y_rt"],"data":{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"x_rt":{"__ndarray__":"AAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQAAAAAAAgERAAAAAAACAREAAAAAAAIBEQA==","dtype":"float64","shape":[50]},"y":[0,372.81553398058253,849.6936563295316,1340.461432727479,1845.5234162049778,2365.29594289056,2900.2074752077606,3450.6989550681806,4017.22416735172,4600.250113973615,5200.257398846633,5817.740624055758,6453.208797571946,7107.185752841031,7780.2105805936835,8472.838073232333,9185.63918216143,9919.201488437977,10674.129687130344,11451.046085784628,12250.591117409422,13073.423868401931,13920.22262185053,14791.68541666171,15688.530622972246,16611.497534320955,17561.346977068166,18538.861937565296,19544.848207591473,20580.13504858928,21645.575875247225,22742.048958992287,23870.45815197264,25031.733632127187,26226.832669956137,27456.740417624762,28722.470721050726,30025.066955644445,31365.602886391363,32745.18355298529,34164.94618074215,35626.06111804531,37129.732801095175,38677.20074675813,40269.74057433361,41908.66505708119,43595.325204374814,45331.11137537603,47117.45442514426,48955.82688412904],"y2":[8000.0,18780.0,30515.8,43274.018,57125.54718,72145.8207538,88415.092964318,106018.73719642579,125047.5622420875,145598.1478149052,167773.20047724075,191681.93121311968,217440.45595436866,245172.22044614644,275008.45092146634,307088.632142762,341561.0144623156,378583.15165277204,418322.4713643374,460956.88017696876,506675.4053342811,555678.8753714329,608180.6419823267,664407.3456125325,724599.7274138886,789013.490355264,857920.2124520184,931608.3152548411,1010384.0909275042,1094572.7914432483,1184519.7836417397,1280591.7741134977,1383178.1081171588,1492692.146987745,1609572.7287620732,1734285.7170315129,1867325.6433334304,2009217.4487118637,2160518.330416356,2321819.700066571,2493749.259990556,2676973.20484758,2872198.5560737527,3080175.6371415555,3301700.6981045282,3537618.698407314,3788826.2574807615,4056274.7832136867,4340973.7889991095,4643994.410695436],"y3":[1,1.03,1.0609,1.092727,1.1255088100000001,1.1592740743,1.1940522965290001,1.2298738654248702,1.2667700813876164,1.304773183829245,1.3439163793441222,1.384233870724446,1.4257608868461793,1.4685337134515648,1.512589724855112,1.5579674166007653,1.6047064390987884,1.652847632271752,1.7024330612399046,1.7535060530771018,1.806111234669415,1.8602945717094976,1.9161034088607827,1.9735865111266062,2.0327941064604045,2.0937779296542165,2.1565912675438432,2.2212890055701586,2.2879276757372633,2.3565655060093813,2.4272624711896627,2.5000803453253524,2.5750827556851132,2.6523352383556666,2.7319052955063365,2.8138624543715265,2.8982783280026725,2.9852266778427525,3.074783478178035,3.1670269825233763,3.2620377919990777,3.35989892575905,3.4606958935318217,3.5645167703377765,3.67145227344791,3.7815958416513475,3.8950437169008882,4.011895028407915,4.132251879260153,4.2562194356379575],"y_ri":{"__ndarray__":"AAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQAAAAAAAF+FAAAAAAAAX4UAAAAAAABfhQA==","dtype":"float64","shape":[50]},"y_rt":{"__ndarray__":"AAAAAAAAAAAlSZIkSVKGQCVJkiRJUpZA3LZt27a9oEAlSZIkSVKmQG7btm3b5qtA3LZt27a9sEAAAAAAAIizQCVJkiRJUrZASpIkSZIcuUBu27Zt2+a7QJMkSZIksb5A3LZt27a9wEBu27Zt2yLCQAAAAAAAiMNAkyRJkiTtxEAlSZIkSVLGQLdt27Ztt8dASpIkSZIcyUDctm3btoHKQG7btm3b5stAAQAAAABMzUCTJEmSJLHOQJMkSZIkC9BA3LZt27a90EAlSZIkSXDRQG7btm3bItJAt23btm3V0kAAAAAAAIjTQEqSJEmSOtRAkyRJkiTt1EDctm3btp/VQCVJkiRJUtZAbtu2bdsE10C3bdu2bbfXQAAAAAAAathASpIkSZIc2UCTJEmSJM/ZQNy2bdu2gdpAJUmSJEk020Bu27Zt2+bbQLdt27ZtmdxAAQAAAABM3UBKkiRJkv7dQJMkSZIksd5A3LZt27Zj30CTJEmSJAvgQLdt27ZtZOBA3LZt27a94EAAAAAAABfhQA==","dtype":"float64","shape":[50]}}},"id":"64570a08-51d2-41a2-8789-f5dfbff96bfe","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":3},"x":{"field":"x_rt"},"y":{"field":"y_rt"}},"id":"257fc956-6c90-4371-b740-cfd69066fcac","type":"Line"},{"attributes":{},"id":"627da5ce-203a-407b-9fc7-c4e60bc919da","type":"BasicTickFormatter"},{"attributes":{},"id":"cf1bd097-5643-4b67-b96b-732c045ef941","type":"BasicTickFormatter"},{"attributes":{"label":{"value":"year of retirement"},"renderers":[{"id":"9f1e37eb-a419-4479-8e75-9404f1f6443c","type":"GlyphRenderer"}]},"id":"7fc190e4-e9c4-4a8c-aab1-66d68463b67d","type":"LegendItem"},{"attributes":{"callback":{"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},"end":3000000,"step":1000,"title":"Starting savings ($)","value":10000},"id":"693a8ed9-d287-4db2-9bf2-9e12d64aac81","type":"Slider"},{"attributes":{"args":{"annual_ROI":{"id":"2d7caa75-9b70-4f4b-8e57-802ba2182d6d","type":"Slider"},"annual_inflation":{"id":"b6803407-1b1f-4781-8d5b-57f4df5c4364","type":"Slider"},"annual_savings":{"id":"70e251cb-9d66-4064-8532-3891807f7aca","type":"Slider"},"retired_income":{"id":"9ff64359-e8bc-441c-8e14-f8a5837da73d","type":"Slider"},"retired_tax_rate":{"id":"5360b2de-2c13-4ba2-9b36-0701f499828b","type":"Slider"},"savings_start":{"id":"693a8ed9-d287-4db2-9bf2-9e12d64aac81","type":"Slider"},"source":{"id":"64570a08-51d2-41a2-8789-f5dfbff96bfe","type":"ColumnDataSource"}},"code":"\n    var data = source.data;\n    var savings_start = savings_start.value;\n    var annual_ROI = annual_ROI.value;\n    var annual_savings = annual_savings.value;\n    var retired_tax_rate = retired_tax_rate.value;\n    var annual_inflation = annual_inflation.value;\n    var retired_income = retired_income.value;\n    var found_retired = 0;\n    x = data['x']\n    y = data['y']\n    y2 = data['y2']\n    y3 = data['y3']\n    y_ri = data['y_ri']\n    x_rt = data['x_rt']\n    y_rt = data['y_rt']\n    y[0] = 0\n    y2[0] = savings_start * (1 - retired_tax_rate)\n    y3[0] = 1\n    y_ri[0] = retired_income\n    for (i = 1; i < x.length; i++) {\n        y3[i] = y3[i-1] * (1 + annual_inflation);\n        y[i] = (y2[i-1] * annual_ROI * (1 - retired_tax_rate)) / y3[i];\n        y2[i] = (y2[i-1] * (1 + annual_ROI) + annual_savings * y3[i]);\n        y_ri[i] = retired_income;\n        if (y[i] >= retired_income) {\n            if (found_retired == 0) {\n                for (j = 0; j < x.length; j++) {\n                    x_rt[j] = i;\n                    y_rt[j] = retired_income * j / (x.length - 1);\n                }\n                found_retired = 1;\n            }\n        }\n        if (i == x.length - 1) {\n            if (found_retired == 0) {\n                for (j = 0; j < x.length; j++) {\n                    x_rt[j] = 0;\n                    y_rt[j] = 0;\n                }\n            }\n        }\n    }\n    source.change.emit();\n"},"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},{"attributes":{"callback":{"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},"end":200000,"step":1000,"title":"Retired net income ($)","value":35000},"id":"9ff64359-e8bc-441c-8e14-f8a5837da73d","type":"Slider"},{"attributes":{},"id":"873e8231-44b7-474e-8fd7-f088cf425d09","type":"ToolEvents"},{"attributes":{"callback":{"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},"end":500000,"step":1000,"title":"Annual savings ($)","value":10000},"id":"70e251cb-9d66-4064-8532-3891807f7aca","type":"Slider"},{"attributes":{"callback":{"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},"end":0.2,"step":0.01,"title":"Annual ROI","value":0.06},"id":"2d7caa75-9b70-4f4b-8e57-802ba2182d6d","type":"Slider"},{"attributes":{"callback":{"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},"end":0.05,"step":0.001,"title":"Annual inflation","value":0.03},"id":"b6803407-1b1f-4781-8d5b-57f4df5c4364","type":"Slider"},{"attributes":{"callback":{"id":"c41f5e6f-fceb-4499-891c-78c01d7c6b5d","type":"CustomJS"},"end":0.5,"step":0.01,"title":"Tax rate (when retired)","value":0.2},"id":"5360b2de-2c13-4ba2-9b36-0701f499828b","type":"Slider"},{"attributes":{"data_source":{"id":"64570a08-51d2-41a2-8789-f5dfbff96bfe","type":"ColumnDataSource"},"glyph":{"id":"0767f6a6-0510-47ca-86b0-c48648f1160d","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"6140365e-37d8-46e0-a413-e1ab93647034","type":"Line"},"selection_glyph":null},"id":"5a043776-9a82-4a3f-adb5-846fe97d4678","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"693a8ed9-d287-4db2-9bf2-9e12d64aac81","type":"Slider"},{"id":"70e251cb-9d66-4064-8532-3891807f7aca","type":"Slider"},{"id":"9ff64359-e8bc-441c-8e14-f8a5837da73d","type":"Slider"},{"id":"2d7caa75-9b70-4f4b-8e57-802ba2182d6d","type":"Slider"},{"id":"b6803407-1b1f-4781-8d5b-57f4df5c4364","type":"Slider"},{"id":"5360b2de-2c13-4ba2-9b36-0701f499828b","type":"Slider"}]},"id":"127e3f2e-47a7-42f9-9aae-27042e0aee86","type":"WidgetBox"},{"attributes":{"children":[{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"},{"id":"127e3f2e-47a7-42f9-9aae-27042e0aee86","type":"WidgetBox"}]},"id":"815209ac-03ce-478e-b357-54a79afe936a","type":"Row"},{"attributes":{"callback":null,"end":50},"id":"9df2ab39-77ba-4589-8c82-ce38285db255","type":"Range1d"},{"attributes":{"below":[{"id":"8c8e60d1-882f-4fe8-b902-372f49235d8e","type":"LinearAxis"}],"left":[{"id":"5dce0228-57c7-4299-8257-3945a0a6591e","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"8c8e60d1-882f-4fe8-b902-372f49235d8e","type":"LinearAxis"},{"id":"ddabbb93-9916-4bac-b8f0-e3300781d2fd","type":"Grid"},{"id":"5dce0228-57c7-4299-8257-3945a0a6591e","type":"LinearAxis"},{"id":"bcf60455-80dc-4ea8-9f7d-a6089bb62153","type":"Grid"},{"id":"0f5a3359-693e-49dc-8b0f-516924bf61cd","type":"BoxAnnotation"},{"id":"c172e885-ef28-4b93-a98d-2110e407d4c8","type":"Legend"},{"id":"5a043776-9a82-4a3f-adb5-846fe97d4678","type":"GlyphRenderer"},{"id":"3104510b-bfba-4bcd-9b19-df83e58626bf","type":"GlyphRenderer"},{"id":"9f1e37eb-a419-4479-8e75-9404f1f6443c","type":"GlyphRenderer"}],"title":{"id":"01362b2c-c419-4cec-a602-28df78121429","type":"Title"},"tool_events":{"id":"873e8231-44b7-474e-8fd7-f088cf425d09","type":"ToolEvents"},"toolbar":{"id":"7b53ccf2-eca5-4069-8431-d643ebf659e0","type":"Toolbar"},"x_range":{"id":"9df2ab39-77ba-4589-8c82-ce38285db255","type":"Range1d"},"x_scale":{"id":"042f52e4-366a-4eb9-b697-bbdf64784e7a","type":"LinearScale"},"y_range":{"id":"e3a241be-ac67-4e07-8a44-13deb06d0ba6","type":"DataRange1d"},"y_scale":{"id":"8a18b385-c609-40b1-8c8e-401dee7999d7","type":"LinearScale"}},"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"042f52e4-366a-4eb9-b697-bbdf64784e7a","type":"LinearScale"},{"attributes":{},"id":"8a18b385-c609-40b1-8c8e-401dee7999d7","type":"LinearScale"},{"attributes":{"axis_label":"Years from start of savings","formatter":{"id":"cf1bd097-5643-4b67-b96b-732c045ef941","type":"BasicTickFormatter"},"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"},"ticker":{"id":"f6b22ec6-48cb-4f6a-8938-3ea67f2d7a78","type":"BasicTicker"}},"id":"8c8e60d1-882f-4fe8-b902-372f49235d8e","type":"LinearAxis"},{"attributes":{"plot":null,"text":""},"id":"01362b2c-c419-4cec-a602-28df78121429","type":"Title"},{"attributes":{},"id":"f6b22ec6-48cb-4f6a-8938-3ea67f2d7a78","type":"BasicTicker"},{"attributes":{"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"},"ticker":{"id":"f6b22ec6-48cb-4f6a-8938-3ea67f2d7a78","type":"BasicTicker"}},"id":"ddabbb93-9916-4bac-b8f0-e3300781d2fd","type":"Grid"},{"attributes":{"axis_label":"Annual net income on interest ($)","formatter":{"id":"627da5ce-203a-407b-9fc7-c4e60bc919da","type":"BasicTickFormatter"},"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"},"ticker":{"id":"d43cb12e-2170-46cb-841e-22d277622122","type":"BasicTicker"}},"id":"5dce0228-57c7-4299-8257-3945a0a6591e","type":"LinearAxis"},{"attributes":{},"id":"d43cb12e-2170-46cb-841e-22d277622122","type":"BasicTicker"},{"attributes":{"dimension":1,"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"},"ticker":{"id":"d43cb12e-2170-46cb-841e-22d277622122","type":"BasicTicker"}},"id":"bcf60455-80dc-4ea8-9f7d-a6089bb62153","type":"Grid"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"0f5a3359-693e-49dc-8b0f-516924bf61cd","type":"BoxAnnotation"},{"attributes":{"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"ebf9888a-21b1-430d-8c15-d02c38368eb3","type":"PanTool"},{"attributes":{"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"5295715e-7358-41d1-af77-7d4a25969ebd","type":"WheelZoomTool"},{"attributes":{"callback":null},"id":"e3a241be-ac67-4e07-8a44-13deb06d0ba6","type":"DataRange1d"},{"attributes":{"overlay":{"id":"0f5a3359-693e-49dc-8b0f-516924bf61cd","type":"BoxAnnotation"},"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"3e97aaee-732a-4982-b7a8-34196295e7d9","type":"BoxZoomTool"},{"attributes":{"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"9ded334d-acd9-4a78-a58e-c96047c02ccc","type":"SaveTool"},{"attributes":{"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"d8b1e3ab-0c00-475c-9153-b241c7168dde","type":"ResetTool"},{"attributes":{"line_alpha":{"value":0.6},"line_width":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"0767f6a6-0510-47ca-86b0-c48648f1160d","type":"Line"},{"attributes":{"plot":{"id":"d6e92d96-ac94-4b49-9fb9-cec2a367c8f0","subtype":"Figure","type":"Plot"}},"id":"47c57b0c-0b50-4972-a188-cc6713d23e62","type":"HelpTool"}],"root_ids":["815209ac-03ce-478e-b357-54a79afe936a"]},"title":"Bokeh Application","version":"0.12.6"}};
              var render_items = [{"docid":"e78589ac-0a59-4c60-813e-6c698974f41b","elementid":"0cb0ed8d-e420-434e-bdf2-77e67c644cbf","modelid":"815209ac-03ce-478e-b357-54a79afe936a"}];
              
              Bokeh.embed.embed_items(docs_json, render_items);
            });
          };
          if (document.readyState != "loading") fn();
          else document.addEventListener("DOMContentLoaded", fn);
        })();
        
        </script>
    </body>
</html>

[[See source code](https://github.com/srcole/qwm/blob/master/retire/make_bokeh.py)] The goal of this figure is to illustrate how long a savings plan will take to yield an interest-based income that is sufficient for retirement. **Move the sliders to define savings. Note that income is adjusted for inflation and income tax.** It is useful to see how changing each of the parameters involved advances and delays the anticipated retirement date.

* Black line - estimated annual income on interest
* Red line - minimum annual income needed to retire (set by user)
* Green line - year at which annual interest on savings covers the desired retirement income

## Motivation

I was recently debating how much/little we need to save in order to retire comfortably. We were pretty surprised when we crunched the numbers and saw how early we may potentially retire. I thought it'd be fun to use [Bokeh](https://bokeh.pydata.org/en/latest/) to make a plot illustrating the age at which we can expect to retire comfortable. It's also interesting to see how much of a difference it can make by saving when you're young: using the default parameters, a person who had $100,000 already would retire 7 years earlier than someone without any current savings (35 years vs. 42 years)!

Other retirement calculators found online [don't take into account income tax](https://retirementplans.vanguard.com/VGApp/pe/pubeducation/calculators/RetirementIncomeCalc.jsf) or [even inflation](https://www.edwardjones.com/preparing-for-your-future/calculators-checklists/calculators/retirement-savings-calculator.html), and just generally aren't as appealing and informative as a Bokeh plot.
